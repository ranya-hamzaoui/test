"use strict";(self.webpackChunksocial_network_client=self.webpackChunksocial_network_client||[]).push([[387],{9387:(rt,f,a)=>{a.r(f),a.d(f,{MainModule:()=>it});var m=a(6895),p=a(3599),t=a(1571);const P=[];let x=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(P),p.Bz]})}return o})();var v=a(4466),r=a(433),g=a(3218);let T=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[m.ez,x,r.u5,v.m,r.UX,g.IJ]})}return o})();var w=a(2722),y=a(7579),M=a(2278),C=a(4004),d=a(2340),u=a(529);let _=(()=>{class o{constructor(e){this.http=e,this.baseUrl=`${d.N.baseurl}/posts`}getFollowsPosts(e){return this.http.get(`${d.N.baseurl}/follow-post/:${e}`).pipe((0,C.U)(n=>n))}getPostsByLike(e){return this.http.get(`${this.baseUrl}/user-like/${e}`).pipe((0,C.U)(n=>n))}createPost(e){return this.http.post(`${this.baseUrl}`,e)}createPostWithPicture(e){return this.http.post(`${d.N.baseurl}/posts/saveFile`,e)}updatePost(e,n){return this.http.put(`${d.N.baseurl}/posts/${e}`,n)}deletePost(e){return this.http.delete(`${this.baseUrl}/${e}`)}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var h=a(7185);let U=(()=>{class o{constructor(e,n){this.postService=e,this.toastService=n,this.newPost=new t.vpe,this.fileToUpload=[],this.description=""}ngOnInit(){}HandleFile(e){if(this.fileToUpload=e.target.files,e.target.files){const n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=s=>{this.postPicture=s.target.result}}}savePostWithPicture(){if(!this.fileToUpload||!this.description)return void this.toastService.error("Please provide a description and select a file.");const e=new FormData;e.append("content",this.description),e.append("file",this.fileToUpload[0]),this.postService.createPost(e).subscribe(n=>{this.toastService.success("Post Added with Succefuly"),this.newPost.emit(!0)},n=>{console.error("Error creating post:",n),this.toastService.error("Fail to Add Post")}),this.description="",this.fileToUpload=[]}savePost(){this.description?this.postService.createPost({description:this.description}).subscribe(()=>{this.newPost.emit(!0),this.toastService.success("Post added successfully.")},n=>{this.toastService.error("Failed to add Post.")}):this.toastService.error("Please provide a description.")}resetForm(){this.description=""}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(_),t.Y36(h._W))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-post-create"]],outputs:{newPost:"newPost"},decls:17,vars:1,consts:[[1,"central-meta","postbox"],[1,"create-post"],[1,"new-postbox","pl-3"],["src","images/resources/admin.jpg","alt",""],[1,"newpst-input","d-flex","flex-justify-content-end"],[1,"d-flex","justify-content-center"],["rows","2","placeholder","Share some what you are thinking?","name","content","required","",1,"post-text",3,"ngModel","ngModelChange"],[1,"attachments"],[1,"fa","fa-image"],[1,"fileContainer"],["type","file",1,"form-control",2,"width","fit-content",3,"change"],[1,"post-btn",3,"click"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"Create post"),t.qZA(),t.TgZ(3,"div",2)(4,"figure"),t._UZ(5,"img",3),t.qZA(),t.TgZ(6,"div",4)(7,"form",5)(8,"textarea",6),t.NdJ("ngModelChange",function(c){return s.description=c}),t.qZA()()(),t.TgZ(9,"div",7)(10,"ul",5)(11,"li"),t._UZ(12,"i",8),t.TgZ(13,"label",9)(14,"input",10),t.NdJ("change",function(c){return s.HandleFile(c)}),t.qZA()()()(),t.TgZ(15,"button",11),t.NdJ("click",function(){return s.savePost()}),t._uU(16,"Post"),t.qZA()()()()),2&n&&(t.xp6(8),t.Q6J("ngModel",s.description))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F],styles:[".post-text[_ngcontent-%COMP%]{background-color:#f0f8ff!important}.btn-post[_ngcontent-%COMP%]{background-color:gray}"]})}return o})(),k=(()=>{class o{constructor(e){this.http=e,this.baseUrl=`${d.N.baseurl}/like`}allLikeByPost(){return this.http.get(`${this.baseUrl}`)}addLike(e){return this.http.post(`${this.baseUrl}/${e}`,{params:{id:e}})}removeLike(e){return this.http.delete(`${d.N.baseurl}/delete-like/${e}`)}getLikes(e){return this.http.get(`${d.N.baseurl}/get-likes/${e}`)}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),b=(()=>{class o{constructor(e){this.http=e,this.baseUrl=`${d.N.baseurl}/comments`}getCommentByPost(){return this.http.get(this.baseUrl)}addComment(e){return this.http.post(this.baseUrl,e)}getCommentById(e){return this.http.get(`${this.baseUrl}/${e}`)}updateComment(e,n){return this.http.put(`${d.N.baseurl}/update/${e}`,n)}deleteComment(e){return this.http.delete(`${this.baseUrl}/${e}`)}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),O=(()=>{class o{constructor(e,n){this.commentService=e,this.toastService=n,this.createComment=new t.vpe,this.text=""}ngOnInit(){}addComment(){this.text.trim()?this.commentService.addComment({post:this.post._id,text:this.text}).subscribe({next:()=>{this.createComment.emit(!0),this.toastService.success("Comment Added with Succefuly"),this.text=""},error:n=>{console.error("Error adding comment:",n)}}):this.toastService.error("Please provide a comment")}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(b),t.Y36(h._W))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-comment-create"]],inputs:{post:"post"},outputs:{createComment:"createComment"},decls:8,vars:1,consts:[[1,"post-comment"],[1,"comet-avatar"],["src","assets/images/resources/nearly1.jpg","alt","userConnect"],[1,"post-comt-box"],["method","post"],["placeholder","Post your comment","name","text",3,"ngModel","ngModelChange"],[1,"active",3,"click"]],template:function(n,s){1&n&&(t.TgZ(0,"li",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"form",4)(5,"textarea",5),t.NdJ("ngModelChange",function(c){return s.text=c}),t.qZA()(),t.TgZ(6,"button",6),t.NdJ("click",function(){return s.addComment()}),t._uU(7," add "),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("ngModel",s.text))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.On,r.F],styles:[".new-postbox[_ngcontent-%COMP%]   .post-btn[_ngcontent-%COMP%]{background:#23d2e2 none repeat scroll 0 0;border:medium none;border-radius:5px;color:#fff;font-weight:500;margin-top:11px;padding:5px;width:100%;transition:all .2s linear 0s}"]})}return o})();function A(o,l){1&o&&(t.TgZ(0,"div",2)(1,"h6",3),t._uU(2,"No Comments "),t._UZ(3,"i"),t._uU(4,"."),t.qZA()())}function F(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div",12)(4,"div",13)(5,"div",14),t._UZ(6,"i",15),t.TgZ(7,"ul")(8,"li"),t._UZ(9,"i",16),t.TgZ(10,"a",17),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onDelete(i._id))}),t._uU(11," Delete Comment"),t.qZA()()()()(),t.TgZ(12,"h5")(13,"a",18),t._uU(14),t.qZA()(),t._UZ(15,"br"),t.TgZ(16,"p",19),t._uU(17),t.qZA(),t.TgZ(18,"div",20)(19,"span"),t._uU(20),t.ALo(21,"date"),t.qZA()()()()}if(2&o){const e=l.$implicit;t.xp6(14),t.Oqu(e.user),t.xp6(3),t.Oqu(null==e?null:e.text),t.xp6(3),t.Oqu(t.xi3(21,3,null==e?null:e.createdAt,"yyyy-MM-dd HH:mm"))}}function L(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.showMore())}),t._uU(1," Show More "),t.qZA()}}function N(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.showLess())}),t._uU(1," Show Less "),t.qZA()}}function S(o,l){if(1&o&&(t.TgZ(0,"div",4),t.YNc(1,F,22,6,"div",5),t.TgZ(2,"div",6),t.YNc(3,L,2,0,"button",7),t.YNc(4,N,2,0,"button",8),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.comments.slice(0,e.displayedItems)),t.xp6(2),t.Q6J("ngIf",e.displayedItems<e.comments.length),t.xp6(1),t.Q6J("ngIf",e.displayedItems>e.initialItems)}}let q=(()=>{class o{constructor(e,n){this.commentService=e,this.formBuilder=n,this.deleteComment=new t.vpe,this.initialItems=3,this.displayedItems=this.initialItems}ngOnInit(){this.formValue=this.formBuilder.group({id:[""],content:[""],image:""})}onDelete(e){this.commentService.deleteComment(e).subscribe({next:()=>{this.deleteComment.emit(!0)},error:n=>console.error("Error deleting comment:",n)})}showMore(){this.displayedItems+=5}showLess(){this.displayedItems=this.initialItems}getComment(){this.commentService.getCommentByPost().subscribe({next:e=>this.comments=e,error:e=>console.error("Error fetching comments:",e)})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(b),t.Y36(r.qu))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-comment"]],inputs:{comments:"comments"},outputs:{deleteComment:"deleteComment"},decls:2,vars:2,consts:[["class","col-lg-12 no-publications",4,"ngIf"],["class","container mt-4",4,"ngIf"],[1,"col-lg-12","no-publications"],[1,"text-center"],[1,"container","mt-4"],["class","d-flex",4,"ngFor","ngForOf"],[1,"text-center","mt-3"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],[1,"d-flex"],[1,"comet-avatar"],["src","assets/images/resources/nearly1.jpg","alt","",1,"src"],[1,"we-comment"],[1,"more"],[1,"more-post-optns"],[1,"ti-more-alt"],[1,"fa","fa-trash"],["type","button","type","button",3,"click"],["href","time-line.html","title",""],[2,"color","gray"],[1,"inline-itms"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(n,s){1&n&&(t.YNc(0,A,5,0,"div",0),t.YNc(1,S,5,3,"div",1)),2&n&&(t.Q6J("ngIf",s.comments&&0==s.comments.length),t.xp6(1),t.Q6J("ngIf",s.comments&&s.comments.length>0))},dependencies:[m.sg,m.O5,m.uU],styles:[".list-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:hidden;transition:max-height .5s ease}.list-group-item[_ngcontent-%COMP%]{transition:transform .3s ease,opacity .3s ease}.list-group-item.ng-leave-active[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:0}.list-group-item.ng-enter-active[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.btn[_ngcontent-%COMP%]{width:120px}"]})}return o})();function J(o,l){1&o&&(t.TgZ(0,"div",5),t._UZ(1,"img",6),t.qZA())}function I(o,l){1&o&&(t.TgZ(0,"div",7),t._uU(1," This users doesn\xb4t have "),t.TgZ(2,"i"),t._uU(3,"any"),t.qZA(),t._uU(4," post.\n"),t.qZA())}function $(o,l){1&o&&(t.TgZ(0,"a",35),t._UZ(1,"img",36),t.qZA())}const Y=function(o){return{"background-color":o}};function B(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"figure"),t._UZ(6,"img",14),t.qZA(),t.TgZ(7,"div",15)(8,"div",16)(9,"div",17),t._UZ(10,"i",18),t.qZA()(),t._UZ(11,"ins"),t.TgZ(12,"span"),t._UZ(13,"i",19),t._uU(14),t.ALo(15,"date"),t.qZA()(),t.TgZ(16,"div",20)(17,"figure")(18,"div",21)(19,"div",22)(20,"div",23)(21,"figure"),t._uU(22),t._UZ(23,"br"),t.YNc(24,$,2,0,"a",24),t.qZA()(),t.TgZ(25,"div",25)(26,"ul")(27,"li")(28,"button",26),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.toggleLike(i))}),t._UZ(29,"i",27),t._uU(30),t.qZA()(),t.TgZ(31,"li")(32,"span",28),t._UZ(33,"i",29),t.TgZ(34,"ins"),t._uU(35),t.qZA()()()()()()()(),t.TgZ(36,"div",30)(37,"ul",31)(38,"li",32)(39,"app-comment-create",33),t.NdJ("createComment",function(s){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleChange(s))}),t.qZA(),t.TgZ(40,"app-list-comment",34),t.NdJ("deleteComment",function(s){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleChange(s))}),t.qZA()()()()()()()()()()}if(2&o){const e=l.$implicit;t.xp6(14),t.hij(" ",t.xi3(15,9,null==e?null:e.createdAt,"short")," "),t.xp6(8),t.hij(" ",null==e?null:e.description," "),t.xp6(2),t.Q6J("ngIf",!(null!=e&&e.photo)),t.xp6(4),t.Q6J("ngStyle",t.VKq(12,Y,null!=e&&e.likedByMe?"red":"gray")),t.xp6(1),t.Q6J("ngClass",null!=e&&e.likedByMe?"fa-heart":"fa-thumbs-down"),t.xp6(1),t.hij(" ",null!=e&&e.likedByMe?null==e?null:e.likeCount:""," "),t.xp6(5),t.Oqu(null==e||null==e.comments?null:e.comments.length),t.xp6(4),t.Q6J("post",e),t.xp6(1),t.Q6J("comments",e.comments)}}function j(o,l){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,B,41,14,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.posts)}}function Q(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"h5",41),t._uU(5,"Post Update"),t.qZA(),t.TgZ(6,"button",42)(7,"span",43),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",44)(10,"div",45)(11,"form")(12,"textarea",46),t.NdJ("ngModelChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.postObj.content=s)}),t.qZA(),t.TgZ(13,"div",47)(14,"ul")(15,"li"),t._UZ(16,"i",48),t.TgZ(17,"label",49),t._UZ(18,"input",50),t.qZA()()()()()(),t.TgZ(19,"div",51)(20,"button",52),t._uU(21," Close "),t.qZA(),t.TgZ(22,"button",53),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.updatePost())}),t._uU(23," Update "),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.postObj.content)}}function H(o,l){if(1&o&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.xp6(2),t.AsE(" ",null==e?null:e.name," : ",e.email," ")}}function G(o,l){if(1&o&&(t.TgZ(0,"div",58),t.YNc(1,H,3,2,"div",9),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.postLikers)}}function E(o,l){1&o&&(t.TgZ(0,"div")(1,"p"),t._uU(2,"there are no Likers"),t.qZA()())}function D(o,l){if(1&o&&(t.TgZ(0,"div",58),t.YNc(1,E,3,0,"div",9),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.postLikers)}}function z(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"h4",54),t._uU(2," Users that Like this POST "),t.qZA(),t.TgZ(3,"button",55),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.KtG(i.dismiss("Cross click"))}),t.TgZ(4,"span",43),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",44)(7,"form"),t.YNc(8,G,2,1,"div",56),t.YNc(9,D,2,1,"div",56),t.qZA()(),t.TgZ(10,"div",51)(11,"button",57),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.KtG(i.close("Save click"))}),t._uU(12," close "),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",(null==e.postLikers?null:e.postLikers.length)>0),t.xp6(1),t.Q6J("ngIf",(null==e.postLikers?null:e.postLikers.length)<=0)}}let K=(()=>{class o{constructor(e,n,s,i){this.postService=e,this.modalService=n,this.likeService=s,this.toastService=i,this.comments=[],this.loading=!1,this.changePost=new t.vpe,this.closeResult="",this.postObj={_id:"",content:"",title:"",user:{},photo:"",createdAt:"",description:"",comments:[]},this.noMore=!1}ngOnInit(){this.loading=!1}onDelete(e){this.selectedPostId=e._id,this.postService.deletePost(this.selectedPostId).subscribe({next:()=>this.toastService.success("Post deleted successfully"),error:n=>this.toastService.error("Failed to delete post")})}onEdit(e){this.postObj={...e}}updatePost(){this.postService.updatePost(this.postObj._id,this.postObj).subscribe(e=>{this.toastService.success("Post changed ssuccefuly")},e=>{this.toastService.error("Failed to update post")})}handleChange(e){console.log("handle changement from createComment or listComment"),this.changePost.emit(!0)}addLike(e){this.selectedPostId=e._id,this.likeService.addLike(this.selectedPostId).subscribe(n=>{this.changePost.emit(!0)})}removeLike(e){this.selectedPostId=e._id,this.likeService.removeLike(this.selectedPostId).subscribe(n=>{this.changePost.emit(!0)},n=>{console.log("err",n),this.changePost.emit(!0)})}toggleLike(e){e.likedByMe?this.removeLike(e):this.addLike(e)}openLike(e,n){this.selectedPostId=n._id,this.getLikesByPost(),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`})}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(n=>{this.closeResult=`Closed with: ${n}`},n=>{this.closeResult=`Dismissed ${this.getDismissReason(n)}`})}getDismissReason(e){return e===g.If.ESC?"by pressing ESC":e===g.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}getLikesByPost(){this.likeService.getLikes(this.selectedPostId).subscribe({next:e=>{console.log("postLikers",e[0]?.users_likes),this.postLikers=e[0]?.users_likes},error:e=>console.error("Error fetching likes",e)})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(_),t.Y36(g.FF),t.Y36(k),t.Y36(h._W))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-post-list"]],inputs:{posts:"posts",comments:"comments",loading:"loading"},outputs:{changePost:"changePost"},decls:7,vars:3,consts:[["class","loading",4,"ngIf"],["class","col-lg-12 no-publications",4,"ngIf"],["id","publications",4,"ngIf"],["contentEdit",""],["content",""],[1,"loading"],["src","assets/images/lg.dual-ring-loader.gif"],[1,"col-lg-12","no-publications"],["id","publications"],[4,"ngFor","ngForOf"],[1,"loadMore"],[1,"central-meta","item"],[1,"user-post"],[1,"friend-info"],["src","assets/images/resources/admin.jpg","alt","",1,"src"],[1,"friend-name"],[1,"more"],[1,"more-post-optns"],[1,"ti-more-alt"],[1,"fa","fa-globe"],[1,"post-meta"],[1,"img-bunch"],[1,"row"],[1,"col-lg-6","col-md-6","col-sm-6",2,"font-weight","bold"],["href","#","title","","data-toggle","modal","data-target","#img-comt",4,"ngIf"],[1,"we-video-info"],[1,"btn","text-white",3,"ngStyle","click"],[1,"fa",3,"ngClass"],["title","Comments",1,"comment"],[1,"fa","fa-commenting"],[1,"coment-area",2,"display","block"],[1,"we-comet"],[1,"post-comment"],[3,"post","createComment"],[3,"comments","deleteComment"],["href","#","title","","data-toggle","modal","data-target","#img-comt"],["src","assets/images/resources/admin.jpg","alt",""],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"newpst-input"],["rows","2","placeholder","Share some what you are thinking?","name","content",3,"ngModel","ngModelChange"],[1,"attachments"],[1,"fa","fa-image"],[1,"fileContainer"],["type","file"],[1,"modal-footer"],["type","button","id","cancel","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["class","form-group",4,"ngIf"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"form-group"]],template:function(n,s){1&n&&(t.YNc(0,J,2,0,"div",0),t.YNc(1,I,5,0,"div",1),t.YNc(2,j,2,1,"div",2),t.YNc(3,Q,24,1,"ng-template",null,3,t.W1O),t.YNc(5,z,13,2,"ng-template",null,4,t.W1O)),2&n&&(t.Q6J("ngIf",s.loading),t.xp6(1),t.Q6J("ngIf",s.posts&&0==s.posts.length),t.xp6(1),t.Q6J("ngIf",s.posts&&s.posts.length>0))},dependencies:[m.mk,m.sg,m.O5,m.PC,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,O,q,m.uU]})}return o})();var R=a(629);let Z=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${d.N.baseurl}`}getUsers(){return this.http.get(`${this.apiUrl}/users`)}getProfile(){return this.http.get(`${this.apiUrl}/profile`)}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),X=(()=>{class o{constructor(e,n,s){this.authService=e,this.router=n,this.userApi=s,this.refreshToken=""}ngOnInit(){this.getProfile()}logout(){this.authService.removeToken(),this.router.navigateByUrl("/")}getProfile(){this.userApi.getProfile().subscribe({next:e=>{this.user=e.data?.user||null},error:e=>{console.error("Profile fetch error:",e)}})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(R.e),t.Y36(p.F0),t.Y36(Z))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-nav"]],decls:32,vars:1,consts:[[1,"topbar","stick"],[1,"logo"],["routerLink","/"],["src","assets/images/logo.png","alt","logo"],[1,"top-area"],[1,"top-search"],["method","post",1,"f-container"],["type","text","placeholder","Search ",1,"input-style"],["data-ripple",""],[1,"ti-search"],[1,"page-name"],["routerLink","/home","routerLinkActive","router-link-active"],[1,"d-flex","justify-content-end","text-white",2,"font-size","14px"],[1,"u"],[1,"page-name","logout-button",3,"click"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5)(6,"form",6),t._UZ(7,"input",7),t.TgZ(8,"button",8),t._UZ(9,"i",9),t.qZA()()(),t.TgZ(10,"div",10)(11,"a",11),t._uU(12,"Acceuil"),t.qZA()(),t.TgZ(13,"div",10)(14,"a",11),t._uU(15,"All Posts"),t.qZA()(),t.TgZ(16,"div",10)(17,"a",11),t._uU(18," My Posts"),t.qZA()(),t.TgZ(19,"div",10)(20,"a",11),t._uU(21,"Followd Posts"),t.qZA()(),t.TgZ(22,"div",10),t._UZ(23,"a",11),t.qZA(),t.TgZ(24,"div",10),t._UZ(25,"a",11),t.qZA(),t.TgZ(26,"div",12)(27,"div",13)(28,"span",10),t._uU(29),t.qZA(),t.TgZ(30,"a",14),t.NdJ("click",function(){return s.logout()}),t._uU(31,"Logout"),t.qZA()()()()()),2&n&&(t.xp6(29),t.Oqu(s.user.name))},dependencies:[p.rH,p.Od],styles:[".f-container[_ngcontent-%COMP%]{position:relative}.input-style[_ngcontent-%COMP%]{width:65%}.ti-search[_ngcontent-%COMP%]{position:absolute;left:-170%;bottom:3.5px}.topbar[_ngcontent-%COMP%]{margin-bottom:19px}.greyiconcolor[_ngcontent-%COMP%]{color:#ededed}.noir[_ngcontent-%COMP%]{color:#000}.size[_ngcontent-%COMP%]{font-size:18px}.radius[_ngcontent-%COMP%]{border-radius:50%}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.user-name[_ngcontent-%COMP%]{margin-right:10px}.logout-button[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}"]})}return o})(),W=(()=>{class o{constructor(e){this.http=e,this.url=`${d.N.baseurl}/follow`}addFollow(e){return this.http.post(this.url,{followed:e})}deleteFollow(e){return this.http.delete(this.url+"unfollow/"+e)}getMyFollows(e=1){return this.http.get(this.url+"ed-user/"+e)}getFollowed(e=null,n=1){return this.http.get(this.url+"followed/")}getNotFollowed(){return this.http.get(`${d.N.baseurl}/not-followed`)}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function V(o,l){1&o&&(t.TgZ(0,"div",4)(1,"h6",5),t._uU(2,"No Users "),t._UZ(3,"i"),t._uU(4,"."),t.qZA()())}const tt=function(o){return["/profile",o]};function et(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ul",6)(1,"li")(2,"figure"),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8)(5,"h4")(6,"a",9),t._uU(7),t.qZA()(),t.TgZ(8,"a",10),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.addFollow(i))}),t._uU(9,"Subscribe"),t.qZA()()(),t.TgZ(10,"div",11),t._UZ(11,"div",12),t.qZA(),t.TgZ(12,"div",13),t._UZ(13,"div",14),t.qZA()()}if(2&o){const e=l.$implicit;t.xp6(6),t.Q6J("routerLink",t.VKq(2,tt,null==e?null:e._id)),t.xp6(1),t.Oqu(null==e?null:e.name)}}let ot=(()=>{class o{constructor(e,n,s){this.followServ=e,this.toastService=n,this.userService=s,this.follows=[],this.fakefollowsold=[{_id:"1111",username:"rania",email:"rania@gmail.com",image:"string",Gender:"Femme"},{_id:"1111",username:"rania",email:"rania@gmail.com",image:"string",Gender:"Femme"},{_id:"1111",username:"rania",email:"rania@gmail.com",image:"string",Gender:"Femme"}],this.addFollow=i=>{this.followServ.addFollow(i).subscribe(c=>{this.getAllNotFollows(),this.toastService.success("follow is Done")},c=>this.toastService.error("Failed to follow"))},this.unFollow=i=>{this.followServ.deleteFollow(i).subscribe(c=>{this.getAllNotFollows()})}}ngOnInit(){this.getAllNotFollows()}getAllNotFollows(){this.followServ.getNotFollowed().subscribe(e=>{this.follows=e.data,console.log("dataaaaa",e.data)})}getAllUsers(){this.userService.getUsers().subscribe(e=>{this.follows=e.data.users})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(W),t.Y36(h._W),t.Y36(Z))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-follows"]],decls:5,vars:2,consts:[[1,"container"],[1,"widget-title"],["class","col-lg-12 no-publications",4,"ngIf"],["class","followers ps-container ps-theme-default ps-active-y","data-ps-id","2a88fe49-853c-35b6-5b5e-862074616e84",4,"ngFor","ngForOf"],[1,"col-lg-12","no-publications"],[1,"text-center"],["data-ps-id","2a88fe49-853c-35b6-5b5e-862074616e84",1,"followers","ps-container","ps-theme-default","ps-active-y"],["src","assets/images/resources/admin.jpg","alt","follow",1,"src"],[1,"friend-meta"],[3,"routerLink"],[1,"text-bold","underline",3,"click"],[1,"ps-scrollbar-x-rail",2,"left","0px","bottom","-30px"],["tabindex","0",1,"ps-scrollbar-x",2,"left","0px","width","0px"],[1,"ps-scrollbar-y-rail",2,"top","30px","height","260px","right","0px"],["tabindex","0",1,"ps-scrollbar-y",2,"top","27px","height","233px"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Suggestions"),t.qZA(),t.YNc(3,V,5,0,"div",2),t.YNc(4,et,14,4,"ul",3),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngIf",s.follows&&0==s.follows.length),t.xp6(1),t.Q6J("ngForOf",s.follows))},dependencies:[m.sg,m.O5,p.rH],styles:[".follow[_ngcontent-%COMP%]{display:flex;list-style:outside none none;margin:0;padding:0;vertical-align:middle}.follow[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-right:30px}.followers[_ngcontent-%COMP%]{max-height:260px;position:relative}.followers[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .invition[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .nearly-pepls[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .peoples[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .conversation-head[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .peoples-mesg-box[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .your-page[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .notification-box[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100%}"]})}return o})();const nt=[{path:"home",component:(()=>{class o{constructor(e){this.postservice=e,this.TEXT=M.l,this.posts=[],this.unsubscribe$=new y.x}ngOnInit(){this.getPosts()}getPosts(){this.postservice.getPostsByLike(this.page).pipe((0,w.R)(this.unsubscribe$)).subscribe(e=>{this.posts=e},e=>{console.log("error",e)})}handleChange(e){this.getPosts()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(_))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:12,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-lg-12"],["id","page-contents",1,"row","merged20"],[1,"col-lg-8"],[3,"newPost"],[3,"posts","changePost"],[1,"col-lg-4"],[1,"sidebar","static","right"],[1,"widget"]],template:function(n,s){1&n&&(t._UZ(0,"app-nav"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"app-post-create",5),t.NdJ("newPost",function(c){return s.handleChange(c)}),t.qZA(),t.TgZ(7,"app-post-list",6),t.NdJ("changePost",function(c){return s.handleChange(c)}),t.qZA()(),t.TgZ(8,"div",7)(9,"aside",8)(10,"div",9),t._UZ(11,"app-follows"),t.qZA()()()()()()()),2&n&&(t.xp6(7),t.Q6J("posts",s.posts))},dependencies:[U,K,X,ot],styles:[".color[_ngcontent-%COMP%]{background-color:#fff;height:8cm}"]})}return o})()}];let st=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(nt),p.Bz]})}return o})(),it=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[m.ez,p.Bz,T,v.m,st]})}return o})()}}]);